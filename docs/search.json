[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "220B Project Website",
    "section": "",
    "text": "Welcome to my 220B Course Project site.\nThe project can be accessed from the navigation bar to the left.\nThere is a comment button below as any feedback is much appreciated!"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "220B write up.html",
    "href": "220B write up.html",
    "title": "Factors in COVID-19 Diagnosis",
    "section": "",
    "text": "The purpose of this report is to address two topics: (1) The association between COVID-19 vaccination and infection. Does this association depend on demographics. (2) Make predictions for COVID-19 infection using laboratory tests and demographic variables. There is a complication as not every data entry has all the laboratory tests. Imputation methods are implemented to address the missing data.\nConclusion:"
  },
  {
    "objectID": "220B write up.html#executive-summary",
    "href": "220B write up.html#executive-summary",
    "title": "Factors in COVID-19 Diagnosis",
    "section": "",
    "text": "The purpose of this report is to address two topics: (1) The association between COVID-19 vaccination and infection. Does this association depend on demographics. (2) Make predictions for COVID-19 infection using laboratory tests and demographic variables. There is a complication as not every data entry has all the laboratory tests. Imputation methods are implemented to address the missing data.\nConclusion:"
  },
  {
    "objectID": "220B write up.html#introduction",
    "href": "220B write up.html#introduction",
    "title": "Factors in COVID-19 Diagnosis",
    "section": "Introduction",
    "text": "Introduction\nThe COVID-19 pandemic has changed everyone’s life these past four years. The very first COVID case in the US was found in the Seattle area, where I was studying at the time. It was an experience to say at the least to be part of that ground zero COVID moment.\nHere is a news report from that moment in time:\n\n\nAfter a couple years, the medical professionals were able to develop vaccinations for COVID-19. However, there were still a surge of COVID cases from time to time. It would be an interesting and important to study if there is an association between the newly infected and their vaccination status, as well as other variables that is available.\nThe data set contains 608 observations. Each observation contains infection status, vaccination status, demographic variables(gender, race, and age). As mentioned above, there are laboratory tests available for certain observations. The data is provided to me, and I don’t have a full understanding of how the data is collected, however, it would be safe to speculate that they were collected in a place like a hospital and such.\nThere are two topics that this report is aiming to address:\n\nThe association between COVID-19 vaccination and infection. Does this association depend on demographics\nThe relationship between COVID-19 infection and vaccination status,laboratory tests and demographic variables. Two models will be presented based on how much information was used. A assessment of the model performances will also be presented at the end."
  },
  {
    "objectID": "220B write up.html#methods",
    "href": "220B write up.html#methods",
    "title": "Factors in COVID-19 Diagnosis",
    "section": "Methods",
    "text": "Methods\n\nTopic 1:\nTo investigate the association between COVID-19 infection and vaccination can be done by checking independence of these two variables. Then the independence can be further tested by breaking the samples into different groups based on gender, race or age.\nA Chi-square test is used in this case to study of the rows and columns of a contingency table are statistically associated. The null hypothesis is that the variables are independent, and the alternative is the variables are dependent.\nThe Pearson statistic is calculated as : \\frac{ \\sum (o-e)^2}{e}\nwhere o is the observed value and e is the expected value.\nThe first contingency table only studies the vaccination status and infection status:\n\n\n\n\n\n\nNot Vaccinated\nVaccinated\n\n\nNot infected\n250\n274\n\n\ninfected\n54\n30\n\n\n\n\n\nIn this first case, the p-value is calculated to be 0.004791817, therefore, under the Pearson statistic, the null of independence is rejected.\nTo investigate if the association depends on gender, race, age, the same technique is applied for each case:\ngender\n\n\n\n\n\n\nFemale\nMale\n\n\nNot infected\n267\n257\n\n\ninfected\n32\n52\n\n\n\n\n\nThe Pearson Statistic is calculated to be 4.789, and the p value equals to 0.028. Therefore, under the Pearson statistic,at the 5% significance level, the null of independence is rejected.\nRace\n\n\n\n\n\n\nBlack\nHispanic\nOther\nWhite\n\n\nNot infected\n57\n97\n58\n312\n\n\ninfected\n15\n14\n7\n48\n\n\n\n\n\nThe Pearson Statistic is calculated to be 3.689, and the p value equals to 0.054. Therefore, under the Pearson statistic,at the 5% significance level, the null of independence failed to be rejected.\n\n\nTopic 2:\nThere are 2 models that can be built based on how much information was used.\n\nBuild a model based on age, race, vaccinated, and gender, which were all available and there was no missing data.\n\nA couple of techniques that are used in this model building need to be discussed before presenting the model\nCross Validation:\nCross Validation(CV) is a practice where portions of the data is reserved to test and train the model.The main type of CV used in this project is called K fold CV.\nK fold CV is a technique that divides data into K folds of equal sizes. One fold is used as a validation set, and the rest are used to train the model. Repeat this step for K times, where each fold is used as a validation fold. Take the average of the prediction errors.\nK will be set to 10 in this project. The main use of CV for this project is used with LASSO method(detailed explanation in the following section)\nLogistic Regression:\nLogistic Regression is a form of a Generalized Linear Model(GLM). The GLM generalizes linear regression by allowing the linear model to be related to the response variable via a link function.\nA GLM contains 3 components:\nRandom Component: This refers to the probability distribution of the response variable(Y)\nSystematic Component: Combination of linear predictors \\beta_0 +\\beta_1x_{1} + \\beta_2x_{2} +...\\beta_px_{p}\nLink Function: link between random and systematic components. In this case, it’s the logit function.\nLogistic Regression estimates the probability of an event occurring, in this case, infection, based on given a set of independent variables(demographic variable and lab tests).\nOnce the probabilities are estimated, there will be a threshold that needs to be determined. For the probabilities less than that threshold, it will be set to negative, anything above the threshold will be set to positive. In the context of this problem, it will be the COVID diagnosis.\nLASSO Regression\nVariable selection technique, which will remove the insignificant variable to ensure model simplicity. The method of choice is called the LASSO method. The LASSO method performs both variable selection and regularization in order to improve the model and interpretability. Mathematically, it’s similar to LS method :\nmin_{\\beta} [y - f(x,\\beta)]^2 + \\lambda \\sum |\\beta|, Where \\lambda is the penalty term.\nThe main effect of this method is that some of the betas are shrunk exactly to zero, resulting in a simpler model.\nTo perform some EDA before fitting the model:\n\nA initial look at the data frame. Race, vaccinated and gender will be coded as factors, the infection status(y) is coded as 0 if negative and 1 if positive\nA initial look at the distribution of the infected. (Negative is coded as 0). Out of everyone who is tested, an overwhelming majority have a negative test result.\n\n\nIt is a good practice to perform data splitting before building the model. In this case, the data frame will be separated based on the outcome variable y. Then take a 20% of random samples from the positive results and a 20% of random samples from the negative results as the testing set. The remaining will be the training set. This division will ensure there are positive cases in both training and testing, since there an overwhelming majority have a negative test result.\nA model is built based on the training data with the implementation of CV and LASSO to reduce the model.\n\nA prediction is made using the model and the training data. A detailed presentation and comparison between the models is presented in the next section.\n\nBuild a model based when demographic variables (age, race, vaccinated, and gender) and laboratory tests are available\n\nAs mentioned above, the lab test results are not available for all observations due to practical reasons. Therefore, an imputation of the missing data will be performed. The first step is to investigate which tests have missing values:\n It is important to note that the distribution of all of these lab tests are normalized to have a mean 0 and standard deviation 1.\nAn imputation procedure called multiple imputation will be implemented to replace the missing data, then there will be a model fitting and selection procedure.\nA detailed explanation of the impuation and model fitting techniques used in this project will be presented below:\nMultiple Imputation\nMultiple imputation is among the more powerful (basic) techniques for handling missing data. It follows a multi-step procedure. First, m different sets of imputed values are generated (usually m ∈ {5, 6, · · · , 20}) through some appropriate method. Multivariate Gaussian imputation, where we let missing values be drawn from some multivariate Gaussian conditional on the observed data, is a popular choice. This process results in m complete datasets. Next, each of the m datasets are separately analyzed. This analysis can be done using whatever procedure is of interest – regression, ANOVA, etc. – and will yield m sets of parameter and error estimates. Finally, the parameter estimates from each of the m datasets are pooled to construct aggregate estimates. Parameter estimates can simply be replaced by the mean estimate across the m datasts.\nStep wise Selection\nStep-by-step iterative construction of a regression model that involves the selection of independent variables to be used in a final model. It involves adding or removing potential explanatory variables in succession and testing for statistical significance after each iteration.\nIn this project, a single round of multiple imputation and variable selection will be performed.All the missing data will be sampled from a standard normal distribution.\nA GLM model with all the covariates is fitted, then a step function is used to produce the following:\n\nThe step function help reducing the model in a faster rate. However, it is not the best model selection method. After certain number of steps, a LASSO regression will be fitted to further reduce the model:\n \nThese are the variables that were determined as significant using LASSO.\nThe procedure then becomes impute the missing data for these variables, fit the model and save the coefficients. This procedure will be repeated 5 times and the coefficients of the final model will be the average of the 5 sets of coefficients:\n\nThe prediction is then made using the final model and the testing data. As mentioned above, the logistic model predicts the probability of a binary response. Therefore, a threshold is necessary to convert the predicted probabilities to binary responses.\nA assessment of the thresholds is performed:\n\nThe threshold is set to 1.212678e-01 in this project to create a balance between specificity and sensitivity.\nOnce the threshold is determined, prediction using the testing data and the two models are made. A detailed look at their performances is presented in the next section"
  },
  {
    "objectID": "220B write up.html#results-conclusions-and-recommendations",
    "href": "220B write up.html#results-conclusions-and-recommendations",
    "title": "Factors in COVID-19 Diagnosis",
    "section": "Results, conclusions and recommendations",
    "text": "Results, conclusions and recommendations\nResults\nTo address the second topic:\nTo best present the results visually, a confusion and a ROC curve plot are construed\nModel w/o lab tests:\n\n\nModel with lab tests:\n\n\nFirst examine the confusion matrices, the model with the lab tests performed better since it has a better true positive and true negative rate. The ROC curves also showed that the model with lab tests performed better.(The closer the ROC curve is to the upper corner, the higher the accuracy is)\nOverall, the model with the lab tests performed better when it comes to prediction at this specific threshold.\nRecommendations\nUnder dispersion\nThreshold chosen arbitrarily,"
  },
  {
    "objectID": "220B write up.html#appendix",
    "href": "220B write up.html#appendix",
    "title": "Factors in COVID-19 Diagnosis",
    "section": "Appendix",
    "text": "Appendix"
  },
  {
    "objectID": "220B write up.html#references-citations",
    "href": "220B write up.html#references-citations",
    "title": "Factors in COVID-19 Diagnosis",
    "section": "References/ Citations",
    "text": "References/ Citations\nGLM\nStep Selection\n[Multiple Imputation] 220B Section Slides 8"
  }
]